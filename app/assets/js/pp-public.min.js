/*! PesaPress Free - v2.3
 * https://alloy.co.ke/projects/pesapress
 * Copyright (c) 2021; * Licensed GPLv2+ */

jQuery(function(a){a("body").on("submit",".pesapress-payment-form",function(s){var t=a(this),n=t.find(".pesapress-submit-response");return!t.hasClass("pesapress_ajax")||(n.html(""),n.html('<label class="forminator-label--info"><span>'+window.ppfront.processing+"</span></label>"),s.preventDefault(),t.find("button").attr("disabled",!0),a.post(ppfront.ajaxurl,t.serialize()).done(function(s){t.find("button").removeAttr("disabled"),n.html("");var a=s.success?"success":"error";void 0!==s.message?n.html('<div class="pesapress-label--'+a+'"><span>'+s.message+"</span></div>"):void 0!==s.data&&(a=s.data.success?"success":"error",n.html('<div class="pesapress-label--'+a+'"><span>'+s.data.message+"</span></div>")),!0===s.success&&void 0!==s.data.url&&(window.location.href=s.data.url)}).fail(function(s,a,e){t.find("button").removeAttr("disabled"),n.html(""),n.html('<label class="pesapress-label--notice"><span>'+window.ppfront.error+"</span></label>")}),!1)})});